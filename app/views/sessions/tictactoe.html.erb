<!-- <div> <%#= link_to "Go back to Profile Page", users_path, class:"back-to-profile-button"%> -->
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
<script type="text/javascript">
  reload_game();
</script>

<div id="flex-quote-container" class="flex-quote-container">
  <div class="quote-and-author-container">
    <div class="quote-of-the-day">Quote of the Day:</div>  
    <div id="quote" class="quote">My proceeds from the PayPal acquisition were $180 million. I put $100 million in SpaceX, $70m in Tesla, and $10m in Solar City. I had to borrow money for rent.</div>
    <div id="author" class="author">~Elon Musk</div>
  </div>
</div>


<div class="flexbox-gamebox">
   <!-- <h1 id="human-container" class="human-container"> Human: <span id="human-score"></span> </h1> -->

   <div id="main-game-container" class="main-game-container">
       <div id="first-row" class="first-row">
           <div id="box-zero" class="box zero"></div> 
           <div id="box-one" class="box one"></div>    
           <div id="box-two" class="box two"></div>    
       </div>
     
       <div id="second-row" class="second-row">
           <div id="box-three" class="box three"></div> 
           <div id="box-four" class="box four"></div>    
           <div id="box-five" class="box five"></div>    
       </div>

       <div id="third-row" class="third-row">
           <div id="box-six" class="box six"></div> 
           <div id="box-seven" class="box seven"></div>    
           <div id="box-eight" class="box eight"></div>    
       </div>  
   </div>

   <!-- <h1 id="ai-container" class="ai-container"> Ai: <span id="ai-score"></span> </h1> -->
</div>

<h2 id="message-display-container" class="message-display-container">
    Artificial Intelligence is thinking
    <span id="thinking-dot-one" class="thinking-dot-one">.</span> 
    <span id="thinking-dot-two" class="thinking-dot-two">.</span> 
    <span id="thinking-dot-three" class="thinking-dot-three">.</span> 
</h2>





<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
<script type="text/javascript">

// Quote________________________________________________________________________________________________

  var q0 = "My proceeds from the PayPal acquisition were $180 million. I put $100 million in SpaceX, $70m in Tesla, and $10m in Solar City. I had to borrow money for rent." 
  var q1 = "In fact what I would like to see is thousands of computer scientists let loose to do whatever they want. That's what really advances the field."
  var q2 = "Talent without working hard is nothing."
  var q3 = "Help young people. Help small guys. Because small guys will be big. Young people will have the seeds you bury in their minds, and when they grow up, they will change the world."
  var q4 = "A brand for a company is like a reputation for a person. You earn reputation by trying to do hard things well."
  var q5 = "Your work is going to fill a large part of your life, and the only way to be truly satisfied is to do what you believe is great work. And the only way to do great work is to love what you do. If you haven't found it yet, keep looking. Don't settle. As with all matters of the heart, you'll know when you find it."
  var q6 = "How to teach people to do what hasn't been done is a great riddle."
  var q7 = "It's fine to celebrate success but it is more important to heed the lessons of failure."
  var q8 = "Don't be a prisoner of your own style."
  var q9 = "Live well with uncertainty."

  var a0 = "~Elon Musk"
  var a1 = "~Donald Knuth"
  var a2 = "~Cristiano Ronaldo"
  var a3 = "~Jack Ma"
  var a4 = "~Jeff Bezos"
  var a5 = "~Steve Jobs" 
  var a6 = "~Peter Thiel"
  var a7 = "~Bill Gates"
  var a8 = "~Armin Van Buuren"
  var a9 = "~Oprah Winfrey"


  var quote_array = [q0, q1, q2, q3, q4, q5, q6, q7, q8, q9]
  var author_array = [a0, a1, a2, a3, a4, a5, a6, a7, a8, a9]

  function generate_quote(){
    var quote = document.getElementById("quote")
    var author = document.getElementById("author")
    var flex_quote_container = document.getElementById("flex-quote-container")

    var rand_num = Math.round(Math.random()*9)

    quote.innerHTML = quote_array[rand_num]
    author.innerHTML = author_array[rand_num]

    //Objective: Fix distance between Quote and Game Box for consistency
    //Step 1: Compute height of entire quote container and convert to integer format
    var style_flex_quote_container = getComputedStyle(flex_quote_container)
    var height = style_flex_quote_container.height
    var integer_height = parseInt(height)
    console.log(integer_height)

    //Step 2: Compute margin bottom of entire quote container and convert to integer format
    var margin_bottom = style_flex_quote_container.marginBottom
    integer_margin_bottom = parseInt(margin_bottom)
    console.log(integer_margin_bottom)

    //Step 3: Computer new margin bottom
    new_margin_bottom = integer_margin_bottom - integer_height
    console.log(new_margin_bottom)

    //Step 4: Asign new margin bottom o entire quote container
    flex_quote_container.style.marginBottom = new_margin_bottom + "px"

  }


  generate_quote()



// Tic-Tac-Toe__________________________________________________________________________________________

    //Variables
    var whose_turn = "human";
    var game_array = new Array(9);
    var human_score = 0;
    var ai_score = 0;
    var game_rounds = 0;
    var current_empty_position;
    var game_result;
    var game_box = document.getElementsByClassName("box")
    var first_moved_position = "no move";
    var second_moved_position = "no move";
    var third_moved_position = "no move";
    var fourth_moved_position = "no move";
    var fifth_moved_position = "no move";
    var sixth_moved_position = "no move";
    var seventh_moved_position = "no move";
    var eight_moved_position = "no move";
    var ninth_moved_position = "no move";


    function check_player_turn(){
      if(whose_turn == "human"){
        whose_turn = "ai"
      }
      else if(whose_turn == "ai"){
        whose_turn = "human"
      }
    }


    function check_win(){
      if( (game_array[0] == "X" && game_array[1] == "X" && game_array[2] == "X") || 
          (game_array[3] == "X" && game_array[4] == "X" && game_array[5] == "X") ||
          (game_array[6] == "X" && game_array[7] == "X" && game_array[8] == "X") ||
          (game_array[0] == "X" && game_array[3] == "X" && game_array[6] == "X") ||
          (game_array[1] == "X" && game_array[4] == "X" && game_array[7] == "X") ||
          (game_array[2] == "X" && game_array[5] == "X" && game_array[8] == "X") ||
          (game_array[0] == "X" && game_array[4] == "X" && game_array[8] == "X") ||
          (game_array[2] == "X" && game_array[4] == "X" && game_array[6] == "X") ){
        // window.alert("Human Win!")
        // location.reload();
        game_result = "human win"
        victory_and_draw_display_message();
        setTimeout(reload_game, 5000);
      }
      else if( (game_array[0] == "O" && game_array[1] == "O" && game_array[2] == "O") || 
               (game_array[3] == "O" && game_array[4] == "O" && game_array[5] == "O") ||
               (game_array[6] == "O" && game_array[7] == "O" && game_array[8] == "O") ||
               (game_array[0] == "O" && game_array[3] == "O" && game_array[6] == "O") ||
               (game_array[1] == "O" && game_array[4] == "O" && game_array[7] == "O") ||
               (game_array[2] == "O" && game_array[5] == "O" && game_array[8] == "O") ||
               (game_array[0] == "O" && game_array[4] == "O" && game_array[8] == "O") ||
               (game_array[2] == "O" && game_array[4] == "O" && game_array[6] == "O") ){
        // window.alert("Ai Win!")
        // location.reload();
        game_result = "ai win"
        victory_and_draw_display_message();
        setTimeout(reload_game, 5000);
      }
    }


    function check_draw(){
      empty_field_count = 0

      for(let b = 0; b < game_box.length; b++){
        if(game_box[b].innerHTML == ""){
           empty_field_count = empty_field_count + 1
        }
      }
      // No more empty field. Draw and game over.
      if(empty_field_count == 0){                                  
        // window.alert("Draw")
        // location.reload();
        game_result = "draw"
        victory_and_draw_display_message();
        setTimeout(reload_game, 5000);
      }
    }


    function victory_and_draw_display_message(){
      const message_display = document.getElementById("message-display-container")

      if(game_result == "human win"){
        message_display.innerHTML = "Congratulations, Human victory"            
      }
      else if(game_result == "ai win"){
        message_display.innerHTML = "Artificial Intelligence victory.<br/> Hire it's creator!" 
      }
      else if(game_result == "draw"){
        message_display.innerHTML = "Draw.<br/> If you can't beat me, Hire Me!"             
      }
      message_display.style.display = "block"
      message_display.style.fontSize = "1.5em"
      message_display.style.color = "#BF3FA3"
    }


    function reload_game(){
      location.reload();
    }


    function ai_thinking(){
      thinking_display = document.getElementById("message-display-container")
      thinking_dot_one = document.getElementById("thinking-dot-one")
      thinking_dot_two = document.getElementById("thinking-dot-two")
      thinking_dot_three = document.getElementById("thinking-dot-three")

      setTimeout(function ai_thinking_display(){thinking_display.style.display = "block"},0);       
      setTimeout(function dot_one(){thinking_dot_one.style.display = "inline"}, 300);
      setTimeout(function dot_two(){thinking_dot_two.style.display = "inline"}, 600);
      setTimeout(function dot_three(){thinking_dot_three.style.display = "inline"}, 900);
      setTimeout(function dot_one(){thinking_dot_one.style.display = "none"}, 1200);
      setTimeout(function dot_two(){thinking_dot_two.style.display = "none"}, 1200);
      setTimeout(function dot_three(){thinking_dot_three.style.display = "none"}, 1200);
      setTimeout(function dot_one(){thinking_dot_one.style.display = "inline"}, 1500);
      setTimeout(function dot_two(){thinking_dot_two.style.display = "inline"}, 1800);
      setTimeout(function dot_three(){thinking_dot_three.style.display = "inline"}, 2100);
      setTimeout(function ai_thinking_display(){thinking_display.style.display = "none"},2400);
      setTimeout(function dot_one(){thinking_dot_one.style.display = "none"}, 2400);
      setTimeout(function dot_two(){thinking_dot_two.style.display = "none"}, 2400);
      setTimeout(function dot_three(){thinking_dot_three.style.display = "none"}, 2400);
    }


    function first_move(){                                                      //Human's turn
      for(let n = 0; n < game_box.length; n++){
        var click_permission = "allowed"
        //HUMAN MOVE
        if(whose_turn == "human"){
          game_box[n].onclick = function(event){
            if(game_box[n].innerHTML == "" && click_permission == "allowed"){
              game_box[n].innerHTML = "X"
              game_array[n] = "X"
              first_moved_position = n;

              click_permission = "disallowed"             
              check_player_turn();
              check_win();
              check_draw();
              ai_thinking();                  
              setTimeout(second_move,2500); 
              // second_move();
            }
            else if(click_permission == "disallowed"){
              window.alert("Please wait for your turn.")
            }
            else if(game_box[n] != ""){
              window.alert("Field is occupied. Kindly choose another.") 
            }                         
          }
        }
        //AI MOVE
        else if(whose_turn =="ai"){
          while(whose_turn == "ai"){
            ai_first_move = Math.floor((Math.random()*9))     //Math.random() --- return range of 0 - 1. Include 0 but not 1

            if(game_box[ai_first_move].innerHTML == ""){
              game_box[ai_first_move].innerHTML = "O"
              game_array[ai_first_move] = "O"
              first_moved_position = ai_first_move;
              check_player_turn();                  
              check_win();
              check_draw();                  
              second_move();
              // break 
            }
          }
        }
      }
    }


    function second_move(){                                                      //AI's turn
      for(let n = 0; n < game_box.length; n++){
        //HUMAN MOVE
        if(whose_turn == "human"){
          game_box[n].onclick = function(event){
            if(game_box[n].innerHTML == ""){
              game_box[n].innerHTML = "X"
              game_array[n] = "X"
              second_moved_position = n;
              check_player_turn();
              check_win();
              check_draw();
              ai_thinking();                                  
              setTimeout(third_move,2500);
              // third_move();
            }
            else window.alert("Field is occupied. Kindly choose another.")              
          }
        }
        //AI MOVE
        else if(whose_turn == "ai"){             
          //Condition 1
          if(game_box[4].innerHTML==""){
            game_box[4].innerHTML = "O";
            game_array[4] = "O";
            second_moved_position = 4;
          }
          //Condition 2
          if(game_box[4].innerHTML=="X"){
            rand_num = Math.floor((Math.random()*9))

            if(rand_num < 2){
              ai_second_move = 0
            }
            else if(rand_num > 0 && rand_num < 3){
              ai_second_move = 2
            }
            else if(rand_num >2 && rand_num < 7){
              ai_second_move = 6                
            }
            else if(rand_num > 6){
              ai_second_move = 8                 
            }
            game_box[ai_second_move].innerHTML = "O";
            game_array[ai_second_move] = "O"
            second_moved_position = ai_second_move             
          }
          check_player_turn();
          check_win();
          check_draw();
          third_move();
          break               // Break-statement to break out loop (alternatively can use return statement)
        }
      }
    }


    function third_move(){                                                      //Human's turn
      //HUMAN MOVE
      if(whose_turn == "human"){
        for(let n = 0; n < game_box.length; n++){
          var click_permission = "allowed"

          game_box[n].onclick = function(event){
            if(game_box[n].innerHTML == "" && click_permission == "allowed"){
              game_box[n].innerHTML = "X"
              game_array[n] = "X"
              third_moved_position = n;

              click_permission = "disallowed"
              check_player_turn();
              check_win();
              check_draw();
              ai_thinking();
              setTimeout(fourth_move,2500);
              // fourth_move();                                   
            }
            else if(click_permission == "disallowed"){
              window.alert("Please wait for your turn.")
            }
            else if(game_box[n] != ""){
              window.alert("Field is occupied. Kindly choose another.")
            }
          }
        }
      }
    }


    function fourth_move(){                                                      //AI's turn
      //HUMAN MOVE
      if(whose_turn == "human"){
        for(let n = 0; n < game_box.length; n++){
          game_box[n].onclick = function(event){
            if(game_box[n].innerHTML == ""){
              game_box[n].innerHTML = "X";
              game_array[n] = "X";
              fourth_moved_position = n;
              check_player_turn();
              check_win();
              check_draw();
              ai_thinking();
              setTimeout(fifth_move,2500);
              // fifth_move();
            }
          }
        }
      }
      //AI MOVE
      if(whose_turn == "ai"){
        let fourth_move_condition_two = true;
        let fourth_move_condition_three = true;   //------ if condition 2 executes, condition 3 need not execute
        let fourth_move_condition_four = true;
        let fourth_move_condition_five = true;
        let fourth_move_condition_six = true;
        let fourth_move_condition_seven = true;
        let fourth_move_condition_eight = true;

        //Condition 1
        if(game_box[4].innerHTML==""){
          fourth_move_condition_two = false;
          fourth_move_condition_three = false;
          fourth_move_condition_four = false;
          fourth_move_condition_five = false;
          fourth_move_condition_six = false;
          fourth_move_condition_seven = false;
          fourth_move_condition_eight = false;                                                        
          game_box[4].innerHTML = "O";
          game_array[4] = "O";
          second_moved_position = 4;
        }

        //Condition 2 (this has to come first, because subsequent to this human will make their 3rd move. Thus have to block their victory)
        if(fourth_move_condition_two){            //if fourth_move_condition_two is true
          if(game_box[0].innerHTML + game_box[1].innerHTML + game_box[2].innerHTML == "XX"){
            fourth_move_condition_one = false;
            fourth_move_condition_three = false;
            fourth_move_condition_four = false;
            fourth_move_condition_five = false;
            fourth_move_condition_six = false;
            fourth_move_condition_seven = false;
            fourth_move_condition_eight = false;
            if(game_box[0].innerHTML == ""){
              game_box[0].innerHTML = "O";
              game_array[0] = "O";
              fourth_moved_position = 0;
            }
            else if(game_box[1].innerHTML == ""){
              game_box[1].innerHTML = "O";
              game_array[1] = "O";
              fourth_moved_position = 1;
            }
            else if(game_box[2].innerHTML ==""){
              game_box[2].innerHTML = "O";
              game_array[2] = "O";
              fourth_moved_position = 2;
            }
          }

          if(game_box[3].innerHTML + game_box[4].innerHTML + game_box[5].innerHTML == "XX"){
            fourth_move_condition_one = false;
            fourth_move_condition_three = false;
            fourth_move_condition_four = false;
            fourth_move_condition_five = false;
            fourth_move_condition_six = false;
            fourth_move_condition_seven = false;
            fourth_move_condition_eight = false;            
            if(game_box[3].innerHTML == ""){
              game_box[3].innerHTML = "O";
              game_array[3] = "O";
              fourth_moved_position = 3;
            }
            else if(game_box[4].innerHTML == ""){
              game_box[4].innerHTML = "O";
              game_array[4] = "O";
              fourth_moved_position = 4;
            }
            else if(game_box[5].innerHTML ==""){
              game_box[5].innerHTML = "O";
              game_array[5] = "O";
              fourth_moved_position = 5;
            }
          }

          if(game_box[6].innerHTML + game_box[7].innerHTML + game_box[8].innerHTML == "XX"){
            fourth_move_condition_one = false;
            fourth_move_condition_three = false;
            fourth_move_condition_four = false;
            fourth_move_condition_five = false;
            fourth_move_condition_six = false;
            fourth_move_condition_seven = false;
            fourth_move_condition_eight = false;
            if(game_box[6].innerHTML == ""){
              game_box[6].innerHTML = "O";
              game_array[6] = "O";
              fourth_moved_position = 6;
            }
            else if(game_box[7].innerHTML == ""){
              game_box[7].innerHTML = "O";
              game_array[7] = "O";
              fourth_moved_position = 7;
            }
            else if(game_box[8].innerHTML ==""){
              game_box[8].innerHTML = "O";
              game_array[8] = "O";
              fourth_moved_position = 8;
            }
          }

          if(game_box[0].innerHTML + game_box[3].innerHTML + game_box[6].innerHTML == "XX"){
            fourth_move_condition_one = false;
            fourth_move_condition_three = false;
            fourth_move_condition_four = false;
            fourth_move_condition_five = false;
            fourth_move_condition_six = false;
            fourth_move_condition_seven = false;
            fourth_move_condition_eight = false;                                                                
            if(game_box[0].innerHTML == ""){
              game_box[0].innerHTML = "O";
              game_array[0] = "O";
              fourth_moved_position = 0;
            }
            else if(game_box[3].innerHTML == ""){
              game_box[3].innerHTML = "O";
              game_array[3] = "O";
              fourth_moved_position = 3;
            }
            else if(game_box[6].innerHTML ==""){
              game_box[6].innerHTML = "O";
              game_array[6] = "O";
              fourth_moved_position = 6;
            }
          }

          if(game_box[1].innerHTML + game_box[4].innerHTML + game_box[7].innerHTML == "XX"){
            fourth_move_condition_one = false;
            fourth_move_condition_three = false;
            fourth_move_condition_four = false;
            fourth_move_condition_five = false;
            fourth_move_condition_six = false;
            fourth_move_condition_seven = false;
            fourth_move_condition_eight = false;                                                                
            if(game_box[1].innerHTML == ""){
              game_box[1].innerHTML = "O";
              game_array[1] = "O";
              fourth_moved_position = 1;
            }
            else if(game_box[4].innerHTML == ""){
              game_box[4].innerHTML = "O";
              game_array[4] = "O";
              fourth_moved_position = 4;
            }
            else if(game_box[7].innerHTML ==""){
              game_box[7].innerHTML = "O";
              game_array[7] = "O";
              fourth_moved_position = 7;
            }
          }

          if(game_box[2].innerHTML + game_box[5].innerHTML + game_box[8].innerHTML == "XX"){
            fourth_move_condition_one = false;
            fourth_move_condition_three = false;
            fourth_move_condition_four = false;
            fourth_move_condition_five = false;
            fourth_move_condition_six = false;
            fourth_move_condition_seven = false;
            fourth_move_condition_eight = false;                                                                
            if(game_box[2].innerHTML == ""){
              game_box[2].innerHTML = "O";
              game_array[2] = "O";
              fourth_moved_position = 2;
            }
            else if(game_box[5].innerHTML == ""){
              game_box[5].innerHTML = "O";
              game_array[5] = "O";
              fourth_moved_position = 5;
            }
            else if(game_box[8].innerHTML ==""){
              game_box[8].innerHTML = "O";
              game_array[8] = "O";
              fourth_moved_position = 8;
            }
          }

          if(game_box[0].innerHTML + game_box[4].innerHTML + game_box[8].innerHTML == "XX"){
            fourth_move_condition_one = false;
            fourth_move_condition_three = false;
            fourth_move_condition_four = false;
            fourth_move_condition_five = false;
            fourth_move_condition_six = false;
            fourth_move_condition_seven = false;
            fourth_move_condition_eight = false;                                                                
            if(game_box[0].innerHTML == ""){
              game_box[0].innerHTML = "O";
              game_array[0] = "O";
              fourth_moved_position = 0;
            }
            else if(game_box[4].innerHTML == ""){
              game_box[4].innerHTML = "O";
              game_array[4] = "O";
              fourth_moved_position = 4;
            }
            else if(game_box[8].innerHTML ==""){
              game_box[8].innerHTML = "O";
              game_array[8] = "O";
              fourth_moved_position = 8;
            }
          }

          if(game_box[2].innerHTML + game_box[4].innerHTML + game_box[6].innerHTML == "XX"){
            fourth_move_condition_one = false;
            fourth_move_condition_three = false;
            fourth_move_condition_four = false;
            fourth_move_condition_five = false;
            fourth_move_condition_six = false;
            fourth_move_condition_seven = false;
            fourth_move_condition_eight = false;                                                                
            if(game_box[2].innerHTML == ""){
              game_box[2].innerHTML = "O";
              game_array[2] = "O";
              fourth_moved_position = 2;
            }
            else if(game_box[4].innerHTML == ""){
              game_box[4].innerHTML = "O";
              game_array[4] = "O";
              fourth_moved_position = 4;
            }
            else if(game_box[6].innerHTML ==""){
              game_box[6].innerHTML = "O";
              game_array[6] = "O";
              fourth_moved_position = 6;
            }
          }
        }

        //Condition 3 (to block 2 head snake strategy by moving to opposite corner of human move)
        if(fourth_move_condition_three){            //if fourth_move_condition_three is true
          if(third_moved_position == 0){
            if(game_box[8].innerHTML == ""){
              fourth_move_condition_one = false;
              fourth_move_condition_two = false;
              fourth_move_condition_four = false;
              fourth_move_condition_five = false;
              fourth_move_condition_six = false;
              fourth_move_condition_seven = false;
              fourth_move_condition_eight = false;                                                                        
              game_box[8].innerHTML = "O";
              game_array[8] = "O";
              fourth_moved_position = 8;
            }
          }
          else if(third_moved_position == 8){
            if(game_box[0].innerHTML == ""){
              fourth_move_condition_one = false;
              fourth_move_condition_two = false;
              fourth_move_condition_four = false;
              fourth_move_condition_five = false;
              fourth_move_condition_six = false;
              fourth_move_condition_seven = false; 
              fourth_move_condition_eight = false;                                       
              game_box[0].innerHTML = "O";
              game_array[0] = "O";
              fourth_moved_position = 0;  
            }            
          }
          else if(third_moved_position == 2){
            if(game_box[6].innerHTML == ""){
              fourth_move_condition_one = false;
              fourth_move_condition_two = false;
              fourth_move_condition_four = false;
              fourth_move_condition_five = false;
              fourth_move_condition_six = false;
              fourth_move_condition_seven = false;
              fourth_move_condition_eight = false;                                        
              game_box[6].innerHTML = "O";
              game_array[6] = "O";
              fourth_moved_position = 6;  
            }            
          }
          else if(third_moved_position == 6){
            if(game_box[2].innerHTML == ""){
              fourth_move_condition_one = false;
              fourth_move_condition_two = false;
              fourth_move_condition_four = false; 
              fourth_move_condition_five = false;
              fourth_move_condition_six = false; 
              fourth_move_condition_seven = false; 
              fourth_move_condition_eight = false;                                                                             
              game_box[2].innerHTML = "O";
              game_array[2] = "O";
              fourth_moved_position = 2;  
            }            
          }
        }

        //Condition 4 (Special Move 1)
        if(fourth_move_condition_four){            //if fourth_move_condition_four is true
          if(game_box[0].innerHTML + game_box[4].innerHTML + game_box[8].innerHTML == "XXO" || 
             game_box[0].innerHTML + game_box[4].innerHTML + game_box[8].innerHTML == "OXX"){
            
            fourth_move_condition_one = false;
            fourth_move_condition_two = false;
            fourth_move_condition_three = false;
            fourth_move_condition_five = false;
            fourth_move_condition_six = false;
            fourth_move_condition_seven = false;
            fourth_move_condition_eight = false;    
            special_move_one_rand = Math.random()

            if(special_move_one_rand < 0.5){
              game_box[2].innerHTML = "O";
              game_array[2] = "O";
              fourth_moved_position = 2;                 
            }
            else if(special_move_one_rand >= 0.5){
              game_box[6].innerHTML = "O";
              game_array[6] = "O";
              fourth_moved_position = 6;                
            }
          }

          if(game_box[2].innerHTML + game_box[4].innerHTML + game_box[6].innerHTML == "XXO" || 
             game_box[2].innerHTML + game_box[4].innerHTML + game_box[6].innerHTML == "OXX"){

            fourth_move_condition_one = false;
            fourth_move_condition_two = false;
            fourth_move_condition_three = false;
            fourth_move_condition_five = false;
            fourth_move_condition_six = false;
            fourth_move_condition_seven = false; 
            fourth_move_condition_eight = false;   
            special_move_one_rand = Math.random()

            if(special_move_one_rand < 0.5){
              game_box[0].innerHTML = "O";
              game_array[0] = "O";
              fourth_moved_position = 0;                 
            }
            else if(special_move_one_rand >= 0.5){
              game_box[8].innerHTML = "O";
              game_array[8] = "O";
              fourth_moved_position = 8;                
            }
          }
        }

        //Condition 5 (Special Move 2)
        if(fourth_move_condition_five){            //if fourth_move_condition_five is true
          if(game_box[0].innerHTML + game_box[4].innerHTML + game_box[8].innerHTML == "XOX"){
            fourth_move_condition_one = false;
            fourth_move_condition_two = false;
            fourth_move_condition_three = false;
            fourth_move_condition_four = false;
            fourth_move_condition_six = false;
            fourth_move_condition_seven = false;
            fourth_move_condition_eight = false;
            special_move_two_rand = Math.random();

            if(special_move_two_rand < 0.25){
              game_box[1].innerHTML = "O";
              game_array[1] = "O";
              fourth_moved_position = 1;
            }
            else if(special_move_two_rand >= 0.25 && special_move_two_rand < 0.5){
              game_box[3].innerHTML = "O";
              game_array[3] = "O";
              fourth_moved_position = 3;                  
            }
            else if(special_move_two_rand >= 0.5 && special_move_two_rand < 0.75){
              game_box[5].innerHTML = "O";
              game_array[5] = "O";
              fourth_moved_position = 5;                   
            }
            else if(special_move_two_rand >= 0.75){
              game_box[7].innerHTML = "O";
              game_array[7] = "O";
              fourth_moved_position = 7; 
            }
          }

          if(game_box[2].innerHTML + game_box[4].innerHTML + game_box[6].innerHTML == "XOX"){
            fourth_move_condition_one = false;
            fourth_move_condition_two = false;
            fourth_move_condition_three = false;
            fourth_move_condition_four = false;
            fourth_move_condition_six = false;
            fourth_move_condition_seven = false;
            fourth_move_condition_eight = false;    
            special_move_two_rand = Math.random();

            if(special_move_two_rand < 0.25){
              game_box[1].innerHTML = "O";
              game_array[1] = "O";
              fourth_moved_position = 1;
            }
            else if(special_move_two_rand >= 0.25 && special_move_two_rand < 0.5){
              game_box[3].innerHTML = "O";
              game_array[3] = "O";
              fourth_moved_position = 3;                  
            }
            else if(special_move_two_rand >= 0.5 && special_move_two_rand < 0.75){
              game_box[5].innerHTML = "O";
              game_array[5] = "O";
              fourth_moved_position = 5;                   
            }
            else if(special_move_two_rand >= 0.75){
              game_box[7].innerHTML = "O";
              game_array[7] = "O";
              fourth_moved_position = 7; 
            }    
          }
        }

        //Condition 6 (Special Move 3)
        if(fourth_move_condition_six){            //if fourth_move_condition_six is true
          if(game_box[3].innerHTML + game_box[4].innerHTML + game_box[5].innerHTML == "XOX"){
            fourth_move_condition_one = false;
            fourth_move_condition_two = false;
            fourth_move_condition_three = false;
            fourth_move_condition_four = false;
            fourth_move_condition_five = false;
            fourth_move_condition_seven = false;
            fourth_move_condition_eight = false;    
            special_move_three_rand = Math.random();

            if(special_move_three_rand < 0.25){
              game_box[0].innerHTML = "O";
              game_array[0] = "O";
              fourth_moved_position = 0;                   
            }
            else if(special_move_three_rand >= 0.25 && special_move_three_rand < 0.5){
              game_box[2].innerHTML = "O";
              game_array[2] = "O";
              fourth_moved_position = 2;                    
            }
            else if(special_move_three_rand >= 0.5 && special_move_three_rand < 0.75){
              game_box[6].innerHTML = "O";
              game_array[6] = "O";
              fourth_moved_position = 6;                     
            }
            else if(special_move_three_rand >= 0.75){
              game_box[8].innerHTML = "O";
              game_array[8] = "O";
              fourth_moved_position = 8; 
            }
          }

          if(game_box[1].innerHTML + game_box[4].innerHTML + game_box[7].innerHTML == "XOX"){
            fourth_move_condition_one = false;
            fourth_move_condition_two = false;
            fourth_move_condition_three = false;
            fourth_move_condition_four = false;
            fourth_move_condition_five = false;
            fourth_move_condition_seven = false;
            fourth_move_condition_eight = false;
            special_move_three_rand = Math.random();

            if(special_move_three_rand < 0.25){
              game_box[0].innerHTML = "O";
              game_array[0] = "O";
              fourth_moved_position = 0;                   
            }
            else if(special_move_three_rand >= 0.25 && special_move_three_rand < 0.5){
              game_box[2].innerHTML = "O";
              game_array[2] = "O";
              fourth_moved_position = 2;                    
            }
            else if(special_move_three_rand >= 0.5 && special_move_three_rand < 0.75){
              game_box[6].innerHTML = "O";
              game_array[6] = "O";
              fourth_moved_position = 6;                     
            }
            else if(special_move_three_rand >= 0.75){
              game_box[8].innerHTML = "O";
              game_array[8] = "O";
              fourth_moved_position = 8; 
            }
          }
        }

        //Condition 7 (Special Move 4)
        if(fourth_move_condition_seven){            //if fourth_move_condition_seven is true
          if(game_box[4].innerHTML == "O" && game_box[0].innerHTML == "X" && game_box[8].innerHTML == ""){
            fourth_move_condition_one = false;
            fourth_move_condition_two = false;
            fourth_move_condition_three = false;
            fourth_move_condition_four = false;
            fourth_move_condition_five = false;
            fourth_move_condition_six = false;
            fourth_move_condition_eight = false;
            game_box[8].innerHTML = "O";
            game_array[8] = "O";
            fourth_moved_position = 8;                 
          }
          else if(game_box[4].innerHTML == "O" && game_box[8].innerHTML == "X" && game_box[0].innerHTML == ""){
            fourth_move_condition_one = false;
            fourth_move_condition_two = false;
            fourth_move_condition_three = false;
            fourth_move_condition_four = false;
            fourth_move_condition_five = false;
            fourth_move_condition_six = false;
            fourth_move_condition_eight = false;
            game_box[0].innerHTML = "O";
            game_array[0] = "O";
            fourth_moved_position = 0;                 
          }
          else if(game_box[4].innerHTML == "O" && game_box[2].innerHTML == "X" && game_box[6].innerHTML == ""){
            fourth_move_condition_one = false;
            fourth_move_condition_two = false;
            fourth_move_condition_three = false;
            fourth_move_condition_four = false;
            fourth_move_condition_five = false;
            fourth_move_condition_six = false;
            fourth_move_condition_eight = false;
            game_box[6].innerHTML = "O";
            game_array[6] = "O";
            fourth_moved_position = 6;                
          }
          else if(game_box[4].innerHTML == "O" && game_box[6].innerHTML == "X" && game_box[2].innerHTML == ""){
            fourth_move_condition_one = false;
            fourth_move_condition_two = false;
            fourth_move_condition_three = false;
            fourth_move_condition_four = false;
            fourth_move_condition_five = false;
            fourth_move_condition_six = false;
            fourth_move_condition_eight = false;
            game_box[2].innerHTML = "O";
            game_array[2] = "O";
            fourth_moved_position = 2;                 
          }
        }

        //Condition 8 (Special Move 5)
        if(fourth_move_condition_eight){            //if fourth_move_condition_eight is true
          if(game_box[4].innerHTML == "O" && game_box[1].innerHTML == "X" && game_box[3].innerHTML == "X"){
            fourth_move_condition_one = false;
            fourth_move_condition_two = false;
            fourth_move_condition_three = false;
            fourth_move_condition_four = false;
            fourth_move_condition_five = false;
            fourth_move_condition_six = false;
            fourth_move_condition_seven = false;
            game_box[0].innerHTML = "O";
            game_array[0] = "O";
            fourth_moved_position = 0;             
          }
          else if(game_box[4].innerHTML == "O" && game_box[3].innerHTML == "X" && game_box[7].innerHTML == "X"){
            fourth_move_condition_one = false;
            fourth_move_condition_two = false;
            fourth_move_condition_three = false;
            fourth_move_condition_four = false;
            fourth_move_condition_five = false;
            fourth_move_condition_six = false;
            fourth_move_condition_seven = false;
            game_box[6].innerHTML = "O";
            game_array[6] = "O";
            fourth_moved_position = 6;   
          }
          else if(game_box[4].innerHTML == "O" && game_box[5].innerHTML == "X" && game_box[7].innerHTML == "X"){
            fourth_move_condition_one = false;
            fourth_move_condition_two = false;
            fourth_move_condition_three = false;
            fourth_move_condition_four = false;
            fourth_move_condition_five = false;
            fourth_move_condition_six = false;
            fourth_move_condition_seven = false;
            game_box[8].innerHTML = "O";
            game_array[8] = "O";
            fourth_moved_position = 8;
          }
          else if(game_box[4].innerHTML == "O" && game_box[1].innerHTML == "X" && game_box[5].innerHTML == "X"){
            fourth_move_condition_one = false;
            fourth_move_condition_two = false;
            fourth_move_condition_three = false;
            fourth_move_condition_four = false;
            fourth_move_condition_five = false;
            fourth_move_condition_six = false;
            fourth_move_condition_seven = false;
            game_box[2].innerHTML = "O";
            game_array[2] = "O";
            fourth_moved_position = 2;
          }
        }
        check_player_turn();
        check_win();
        check_draw();
        fifth_move();
      }
    }


    function fifth_move(){                                                      //Human's turn
      //HUMAN MOVE
      if(whose_turn == "human"){
        for(let n = 0; n < game_box.length; n++){
          var click_permission = "allowed"

          game_box[n].onclick = function(event){
            if(game_box[n].innerHTML == "" && click_permission == "allowed"){
              game_box[n].innerHTML = "X";
              game_array[n] = "X";
              fifth_moved_position = n;

              click_permission = "disallowed"
              check_player_turn();
              check_win();
              check_draw();
              ai_thinking();
              setTimeout(sixth_move,2500);
              // sixth_move();
            }
            else if(click_permission == "disallowed"){
              window.alert("Please wait for your turn.")
            }
            else if(game_box[n] != ""){
              window.alert("Field is occupied. Kindly choose another.");
            }
          }
        }
      }
    }


    function sixth_move(){                                                      //AI's turn
      //HUMAN MOVE
      if(whose_turn == "human"){
        for(let n = 0; n < game_box.length; n++){
          game_box[n].onclick = function(event){
            if(game_box[n].innerHTML == ""){
              game_box[n].innerHTML = "X";
              game_array[n] = "X";
              sixth_moved_position = n;
              check_player_turn();
              check_win();
              check_draw();
              ai_thinking();
              setTimeout(seventh_move,2500);
              // seventh_move();
            }
            else window.alert("Field is occupied. Kindly choose another.");
          }
        }
      }
      // AI MOVE
      if(whose_turn == "ai"){
        let sixth_move_condition_one = true;
        let sixth_move_condition_two = true;
        let sixth_move_condition_three = true;
        let sixth_move_condition_four = true; 

        //Condition 1 (AI winning move)
        if(sixth_move_condition_one){            //if sixth_move_condition_one is true
          if(sixth_moved_position == "no move" &&     //Prevent AI from making 2 moves when there is 2 head snake for AI!!!
            game_box[0].innerHTML + game_box[1].innerHTML + game_box[2].innerHTML == "OO"){
            if(game_box[0].innerHTML == ""){
              game_box[0].innerHTML = "O";
              game_array[0] = "O"
              sixth_moved_position = 0;
            }
            else if(game_box[1].innerHTML == ""){
              game_box[1].innerHTML = "O";
              game_array[1] = "O";
              sixth_moved_position = 1;
            }
            else if(game_box[2].innerHTML == ""){
              game_box[2].innerHTML = "O";
              game_array[2] = "O";
              sixth_moved_position = 2;
            }
          }

          if(sixth_moved_position == "no move" &&
            game_box[3].innerHTML + game_box[4].innerHTML + game_box[5].innerHTML == "OO"){
            if(game_box[3].innerHTML == ""){
              game_box[3].innerHTML = "O";
              game_array[3] = "O"
              sixth_moved_position = 3;
            }                
            else if(game_box[4].innerHTML == ""){
              game_box[4].innerHTML = "O";
              game_array[4] = "O";
              sixth_moved_position = 4;
            }
            else if(game_box[5].innerHTML == ""){
              game_box[5].innerHTML = "O";
              game_array[5] = "O";
              sixth_moved_position = 5;
            }
          }

          if(sixth_moved_position == "no move" &&
            game_box[6].innerHTML + game_box[7].innerHTML + game_box[8].innerHTML == "OO"){
            if(game_box[6].innerHTML == ""){
              game_box[6].innerHTML = "O"
              game_array[6] = "O"
              sixth_moved_position = 6;
            }
            else if(game_box[7].innerHTML == ""){
              game_box[7].innerHTML = "O";
              game_array[7] = "O";
              sixth_moved_position = 7;
            }
            else if(game_box[8].innerHTML == ""){
              game_box[8].innerHTML = "O";
              game_array[8] = "O";
              sixth_moved_position = 8;
            }                
          }

          if(sixth_moved_position == "no move" &&
            game_box[0].innerHTML + game_box[3].innerHTML + game_box[6].innerHTML == "OO"){
            if(game_box[0].innerHTML == ""){
              game_box[0].innerHTML = "O"
              game_array[0] = "O"
              sixth_moved_position = 0;
            }
            else if(game_box[3].innerHTML == ""){
              game_box[3].innerHTML = "O";
              game_array[3] = "O";
              sixth_moved_position = 3;
            }
            else if(game_box[6].innerHTML == ""){
              game_box[6].innerHTML = "O";
              game_array[6] = "O";
              sixth_moved_position = 6;
            }                
          }

          if(sixth_moved_position == "no move" &&
            game_box[1].innerHTML + game_box[4].innerHTML + game_box[7].innerHTML == "OO"){
            if(game_box[1].innerHTML == ""){
              game_box[1].innerHTML = "O"
              game_array[1] = "O"
              sixth_moved_position = 1;
            }
            else if(game_box[4].innerHTML == ""){
              game_box[4].innerHTML = "O";
              game_array[4] = "O";
              sixth_moved_position = 4;
            }
            else if(game_box[7].innerHTML == ""){
              game_box[7].innerHTML = "O";
              game_array[7] = "O";
              sixth_moved_position = 7;
            }                
          }                               

          if(sixth_moved_position == "no move" &&
            game_box[2].innerHTML + game_box[5].innerHTML + game_box[8].innerHTML == "OO"){
            if(game_box[2].innerHTML == ""){
              game_box[2].innerHTML = "O"
              game_array[2] = "O"
              sixth_moved_position = 2;
            }
            else if(game_box[5].innerHTML == ""){
              game_box[5].innerHTML = "O";
              game_array[5] = "O";
              sixth_moved_position = 5;
            }
            else if(game_box[8].innerHTML == ""){
              game_box[8].innerHTML = "O";
              game_array[8] = "O";
              sixth_moved_position = 8;
            }                
          }  

          if(sixth_moved_position == "no move" &&
            game_box[0].innerHTML + game_box[4].innerHTML + game_box[8].innerHTML == "OO"){
            if(game_box[0].innerHTML == ""){
              game_box[0].innerHTML = "O"
              game_array[0] = "O"
              sixth_moved_position = 0;
            }
            else if(game_box[4].innerHTML == ""){
              game_box[4].innerHTML = "O";
              game_array[4] = "O";
              sixth_moved_position = 4;
            }
            else if(game_box[8].innerHTML == ""){
              game_box[8].innerHTML = "O";
              game_array[8] = "O";
              sixth_moved_position = 8;
            }                
          } 

          if(sixth_moved_position == "no move" &&
            game_box[2].innerHTML + game_box[4].innerHTML + game_box[6].innerHTML == "OO"){
            if(game_box[2].innerHTML == ""){
              game_box[2].innerHTML = "O"
              game_array[2] = "O"
              sixth_moved_position = 2;
            }
            else if(game_box[4].innerHTML == ""){
              game_box[4].innerHTML = "O";
              game_array[4] = "O";
              sixth_moved_position = 4;
            }
            else if(game_box[6].innerHTML == ""){
              game_box[6].innerHTML = "O";
              game_array[6] = "O";
              sixth_moved_position = 6;
            }                
          }

          if(sixth_moved_position != "no move"){   // Code block for if Condition 1 executes, Condition 2 need not execute!!
            sixth_move_condition_two = false;
            sixth_move_condition_three = false;
            sixth_move_condition_four = false;
          } 
        }

        //Condition 2 (block opponent from winning)
        if(sixth_move_condition_two){            //if sixth_move_condition_two is true
          if(sixth_moved_position == "no move" &&
            game_box[0].innerHTML + game_box[1].innerHTML + game_box[2].innerHTML == "XX"){
            if(game_box[0].innerHTML == ""){
              game_box[0].innerHTML = "O";
              game_array[0] = "O";
              sixth_moved_position = 0;
            }
            else if(game_box[1].innerHTML == ""){
              game_box[1].innerHTML = "O";
              game_array[1] = "O";
              sixth_moved_position = 1;
            }
            else if(game_box[2].innerHTML ==""){
              game_box[2].innerHTML = "O";
              game_array[2] = "O";
              sixth_moved_position = 2;
            }
          }

          if(sixth_moved_position == "no move" &&
            game_box[3].innerHTML + game_box[4].innerHTML + game_box[5].innerHTML == "XX"){
            if(game_box[3].innerHTML == ""){
              game_box[3].innerHTML = "O";
              game_array[3] = "O";
              sixth_moved_position = 3;
            }
            else if(game_box[4].innerHTML == ""){
              game_box[4].innerHTML = "O";
              game_array[4] = "O";
              sixth_moved_position = 4;
            }
            else if(game_box[5].innerHTML ==""){
              game_box[5].innerHTML = "O";
              game_array[5] = "O";
              sixth_moved_position = 5;
            }
          }

          if(sixth_moved_position == "no move" &&
            game_box[6].innerHTML + game_box[7].innerHTML + game_box[8].innerHTML == "XX"){
            if(game_box[6].innerHTML == ""){
              game_box[6].innerHTML = "O";
              game_array[6] = "O";
              sixth_moved_position = 6;
            }
            else if(game_box[7].innerHTML == ""){
              game_box[7].innerHTML = "O";
              game_array[7] = "O";
              sixth_moved_position = 7;
            }
            else if(game_box[8].innerHTML ==""){
              game_box[8].innerHTML = "O";
              game_array[8] = "O";
              sixth_moved_position = 8;
            }
          }

          if(sixth_moved_position == "no move" &&
            game_box[0].innerHTML + game_box[3].innerHTML + game_box[6].innerHTML == "XX"){
            if(game_box[0].innerHTML == ""){
              game_box[0].innerHTML = "O";
              game_array[0] = "O";
              sixth_moved_position = 0;
            }
            else if(game_box[3].innerHTML == ""){
              game_box[3].innerHTML = "O";
              game_array[3] = "O";
              sixth_moved_position = 3;
            }
            else if(game_box[6].innerHTML ==""){
              game_box[6].innerHTML = "O";
              game_array[6] = "O";
              sixth_moved_position = 6;
            }
          }

          if(sixth_moved_position == "no move" &&
            game_box[1].innerHTML + game_box[4].innerHTML + game_box[7].innerHTML == "XX"){
            if(game_box[1].innerHTML == ""){
              game_box[1].innerHTML = "O";
              game_array[1] = "O";
              sixth_moved_position = 1;
            }
            else if(game_box[4].innerHTML == ""){
              game_box[4].innerHTML = "O";
              game_array[4] = "O";
              sixth_moved_position = 4;
            }
            else if(game_box[7].innerHTML ==""){
              game_box[7].innerHTML = "O";
              game_array[7] = "O";
              sixth_moved_position = 7;
            }
          }

          if(sixth_moved_position == "no move" &&
            game_box[2].innerHTML + game_box[5].innerHTML + game_box[8].innerHTML == "XX"){
            if(game_box[2].innerHTML == ""){
              game_box[2].innerHTML = "O";
              game_array[2] = "O";
              sixth_moved_position = 2;
            }
            else if(game_box[5].innerHTML == ""){
              game_box[5].innerHTML = "O";
              game_array[5] = "O";
              sixth_moved_position = 5;
            }
            else if(game_box[8].innerHTML ==""){
              game_box[8].innerHTML = "O";
              game_array[8] = "O";
              sixth_moved_position = 8;
            }
          }

          if(sixth_moved_position == "no move" &&
            game_box[0].innerHTML + game_box[4].innerHTML + game_box[8].innerHTML == "XX"){
            if(game_box[0].innerHTML == ""){
              game_box[0].innerHTML = "O";
              game_array[0] = "O";
              sixth_moved_position = 0;
            }
            else if(game_box[4].innerHTML == ""){
              game_box[4].innerHTML = "O";
              game_array[4] = "O";
              sixth_moved_position = 4;
            }
            else if(game_box[8].innerHTML ==""){
              game_box[8].innerHTML = "O";
              game_array[8] = "O";
              sixth_moved_position = 8;
            }
          }

          if(sixth_moved_position == "no move" &&
            game_box[2].innerHTML + game_box[4].innerHTML + game_box[6].innerHTML == "XX"){
            if(game_box[2].innerHTML == ""){
              game_box[2].innerHTML = "O";
              game_array[2] = "O";
              sixth_moved_position = 2;
            }
            else if(game_box[4].innerHTML == ""){
              game_box[4].innerHTML = "O";
              game_array[4] = "O";
              sixth_moved_position = 4;
            }
            else if(game_box[6].innerHTML ==""){
              game_box[6].innerHTML = "O";
              game_array[6] = "O";
              sixth_moved_position = 6;
            }
          }

          if(sixth_moved_position != "no move"){   // Code block for if Condition 2 executes, Condition 1/3/4 need not execute!!
            sixth_move_condition_one = false;
            sixth_move_condition_three = false;
            sixth_move_condition_four = false;
          }
        }

        //Condition 3 (take corner)
        /* Note: The reason to take corner, if both Condition 1 and Condition 2 is not met, is because it prevent
                 opposing player to execute 2 head snake strategy. 2 head snake strategy requires the corner to execute.*/
        if(sixth_move_condition_three){            //if sixth_move_condition_three is true
          //Note: "no move" condition is included to ensure AI does not make 2 moves when there are more than 1 empty corner
          if(sixth_moved_position == "no move" && game_box[0].innerHTML == ""){   
            game_box[0].innerHTML = "O";
            game_array[0] = "O";
            sixth_moved_position = 0;
          }
          if(sixth_moved_position == "no move" && game_box[2].innerHTML == ""){
            game_box[2].innerHTML = "O";
            game_array[2] = "O";
            sixth_moved_position = 2;                
          }
          if(sixth_moved_position == "no move" && game_box[6].innerHTML == ""){
            game_box[6].innerHTML = "O";
            game_array[6] = "O";
            sixth_moved_position = 6;               
          }
          if(sixth_moved_position == "no move" && game_box[8].innerHTML == ""){
            game_box[8].innerHTML = "O";
            game_array[8] = "O";
            sixth_moved_position = 8;                 
          }

          if(sixth_moved_position != "no move"){
            sixth_move_condition_one = false;
            sixth_move_condition_two = false;
            sixth_move_condition_four = false;
          }
        }

        //Condition 4(random move to fill up empty slots if all above conditions are not met)
        if(sixth_move_condition_four){            //if sixth_move_condition_four is true
          let slot_position = 0;

          while(slot_position < game_box.length){
            if(sixth_moved_position == "no move" && game_box[slot_position].innerHTML == ""){
              game_box[slot_position].innerHTML = "O";
              game_array[slot_position] = "O";
              sixth_moved_position = slot_position;

              sixth_move_condition_one = false;
              sixth_move_condition_two = false;
              sixth_move_condition_three = false;
              break
            }
            slot_position = slot_position + 1;
          }
        }
        check_player_turn();
        check_win();
        check_draw();
        seventh_move();
      }
    }


    function seventh_move(){                                                    //Human's turn
      //HUMAN MOVE
      if(whose_turn == "human"){
        for(let n = 0; n < game_box.length; n++){
          var click_permission = "allowed"

          game_box[n].onclick = function(event){
            if(game_box[n].innerHTML == "" && click_permission == "allowed"){
              game_box[n].innerHTML = "X";
              game_array[n] = "X";
              seventh_moved_position = n;

              click_permission = "disallowed"
              check_player_turn();
              check_win();
              check_draw();
              ai_thinking();
              setTimeout(eight_move,2500);
              // eight_move();                  
            }
            else if(click_permission == "disallowed"){
              window.alert("Please wait for your turn.")
            }
            else if(game_box[n] != ""){
              window.alert("Field is occupied. Kindly choose another.");
            }
          }
        }
      }
    }


    function eight_move(){
      //HUMAN MOVE
      if(whose_turn == "human"){
        for(let n = 0; n < game_box.length; n++){
          game_box[n].onclick = function(event){
            if(game_box[n].innerHTML == ""){
              game_box[n].innerHTML = "X";
              game_array[n] = "X";
              eight_moved_position = n;
              check_player_turn();
              check_win();
              check_draw();
              ai_thinking();
              setTimeout(ninth_move,3700);
              // ninth_move();                  
            }
            else window.alert("Field is occupied. Kindly choose another.");                
          }
        }
      }
      //AI MOVE
      if(whose_turn == "ai"){
        let eight_move_condition_one = true;
        let eight_move_condition_two = true;
        let eight_move_condition_three = true;
        let eight_move_condition_four = true;

        //Condition 1 (AI winning move)
        if(eight_move_condition_one){            //if eight_move_condition_one is true
          if(eight_moved_position == "no move" &&
            game_box[0].innerHTML + game_box[1].innerHTML + game_box[2].innerHTML == "OO"){
            if(game_box[0].innerHTML == ""){
              game_box[0].innerHTML = "O";
              game_array[0] = "O"
              eight_moved_position = 0;
            }
            else if(game_box[1].innerHTML == ""){
              game_box[1].innerHTML = "O";
              game_array[1] = "O"
              eight_moved_position = 1;                  
            }
            else if(game_box[2].innerHTML == ""){
              game_box[2].innerHTML = "O";
              game_array[2] = "O"
              eight_moved_position = 2;                    
            }
          }

          if(eight_moved_position == "no move" &&
            game_box[3].innerHTML + game_box[4].innerHTML + game_box[5].innerHTML == "OO"){
            if(game_box[3].innerHTML == ""){
              game_box[3].innerHTML = "O";
              game_array[3] = "O"
              eight_moved_position = 3;
            }
            else if(game_box[4].innerHTML == ""){
              game_box[4].innerHTML = "O";
              game_array[4] = "O"
              eight_moved_position = 4;                  
            }
            else if(game_box[5].innerHTML == ""){
              game_box[5].innerHTML = "O";
              game_array[5] = "O"
              eight_moved_position = 5;                    
            }
          }

          if(eight_moved_position == "no move" &&
            game_box[6].innerHTML + game_box[7].innerHTML + game_box[8].innerHTML == "OO"){
            if(game_box[6].innerHTML == ""){
              game_box[6].innerHTML = "O";
              game_array[6] = "O"
              eight_moved_position = 6;
            }
            else if(game_box[7].innerHTML == ""){
              game_box[7].innerHTML = "O";
              game_array[7] = "O"
              eight_moved_position = 7;                  
            }
            else if(game_box[8].innerHTML == ""){
              game_box[8].innerHTML = "O";
              game_array[8] = "O"
              eight_moved_position = 8;                    
            }
          }

          if(eight_moved_position == "no move" &&
            game_box[0].innerHTML + game_box[3].innerHTML + game_box[6].innerHTML == "OO"){
            if(game_box[0].innerHTML == ""){
              game_box[0].innerHTML = "O";
              game_array[0] = "O"
              eight_moved_position = 0;
            }
            else if(game_box[3].innerHTML == ""){
              game_box[3].innerHTML = "O";
              game_array[3] = "O"
              eight_moved_position = 3;                  
            }
            else if(game_box[6].innerHTML == ""){
              game_box[6].innerHTML = "O";
              game_array[6] = "O"
              eight_moved_position = 6;                    
            }
          }

          if(eight_moved_position == "no move" &&
            game_box[1].innerHTML + game_box[4].innerHTML + game_box[7].innerHTML == "OO"){
            if(game_box[1].innerHTML == ""){
              game_box[1].innerHTML = "O";
              game_array[1] = "O"
              eight_moved_position = 1;
            }
            else if(game_box[4].innerHTML == ""){
              game_box[4].innerHTML = "O";
              game_array[4] = "O"
              eight_moved_position = 4;                  
            }
            else if(game_box[7].innerHTML == ""){
              game_box[7].innerHTML = "O";
              game_array[7] = "O"
              eight_moved_position = 7;                    
            }
          }

          if(eight_moved_position == "no move" &&
            game_box[2].innerHTML + game_box[5].innerHTML + game_box[8].innerHTML == "OO"){
            if(game_box[2].innerHTML == ""){
              game_box[2].innerHTML = "O";
              game_array[2] = "O"
              eight_moved_position = 2;
            }
            else if(game_box[5].innerHTML == ""){
              game_box[5].innerHTML = "O";
              game_array[5] = "O"
              eight_moved_position = 5;                  
            }
            else if(game_box[8].innerHTML == ""){
              game_box[8].innerHTML = "O";
              game_array[8] = "O"
              eight_moved_position = 8;                    
            }
          }

          if(eight_moved_position == "no move" &&
            game_box[0].innerHTML + game_box[4].innerHTML + game_box[8].innerHTML == "OO"){
            if(game_box[0].innerHTML == ""){
              game_box[0].innerHTML = "O";
              game_array[0] = "O"
              eight_moved_position = 0;
            }
            else if(game_box[4].innerHTML == ""){
              game_box[4].innerHTML = "O";
              game_array[4] = "O"
              eight_moved_position = 4;                  
            }
            else if(game_box[8].innerHTML == ""){
              game_box[8].innerHTML = "O";
              game_array[8] = "O"
              eight_moved_position = 8;                    
            }
          }

          if(eight_moved_position == "no move" &&
            game_box[2].innerHTML + game_box[4].innerHTML + game_box[6].innerHTML == "OO"){
            if(game_box[2].innerHTML == ""){
              game_box[2].innerHTML = "O";
              game_array[2] = "O"
              eight_moved_position = 2;
            }
            else if(game_box[4].innerHTML == ""){
              game_box[4].innerHTML = "O";
              game_array[4] = "O"
              eight_moved_position = 4;                  
            }
            else if(game_box[6].innerHTML == ""){
              game_box[6].innerHTML = "O";
              game_array[6] = "O"
              eight_moved_position = 6;                    
            }
          }

          if(eight_moved_position != "no move"){
            let eight_move_condition_two = false;
            let eight_move_condition_three = false;
            let eight_move_condition_four = false;
          }
        }

        //Condition 2 (block opponent from winning)
        if(eight_move_condition_two){            //if eight_move_condition_two is true
          if(eight_moved_position == "no move" &&
            game_box[0].innerHTML + game_box[1].innerHTML + game_box[2].innerHTML == "XX"){
            if(game_box[0].innerHTML == ""){
              game_box[0].innerHTML = "O";
              game_array[0] = "O";
              eight_moved_position = 0;
            }
            else if(game_box[1].innerHTML == ""){
              game_box[1].innerHTML = "O";
              game_array[1] = "O";
              eight_moved_position = 1;
            }
            else if(game_box[2].innerHTML ==""){
              game_box[2].innerHTML = "O";
              game_array[2] = "O";
              eight_moved_position = 2;
            }
          }

          if(eight_moved_position == "no move" &&
            game_box[3].innerHTML + game_box[4].innerHTML + game_box[5].innerHTML == "XX"){
            if(game_box[3].innerHTML == ""){
              game_box[3].innerHTML = "O";
              game_array[3] = "O";
              eight_moved_position = 3;
            }
            else if(game_box[4].innerHTML == ""){
              game_box[4].innerHTML = "O";
              game_array[4] = "O";
              eight_moved_position = 4;
            }
            else if(game_box[5].innerHTML ==""){
              game_box[5].innerHTML = "O";
              game_array[5] = "O";
              eight_moved_position = 5;
            }
          }

          if(eight_moved_position == "no move" &&
            game_box[6].innerHTML + game_box[7].innerHTML + game_box[8].innerHTML == "XX"){
            if(game_box[6].innerHTML == ""){
              game_box[6].innerHTML = "O";
              game_array[6] = "O";
              eight_moved_position = 6;
            }
            else if(game_box[7].innerHTML == ""){
              game_box[7].innerHTML = "O";
              game_array[7] = "O";
              eight_moved_position = 7;
            }
            else if(game_box[8].innerHTML ==""){
              game_box[8].innerHTML = "O";
              game_array[8] = "O";
              eight_moved_position = 8;
            }
          }

          if(eight_moved_position == "no move" &&
            game_box[0].innerHTML + game_box[3].innerHTML + game_box[6].innerHTML == "XX"){
            if(game_box[0].innerHTML == ""){
              game_box[0].innerHTML = "O";
              game_array[0] = "O";
              eight_moved_position = 0;
            }
            else if(game_box[3].innerHTML == ""){
              game_box[3].innerHTML = "O";
              game_array[3] = "O";
              eight_moved_position = 3;
            }
            else if(game_box[6].innerHTML ==""){
              game_box[6].innerHTML = "O";
              game_array[6] = "O";
              eight_moved_position = 6;
            }
          }

          if(eight_moved_position == "no move" &&
            game_box[1].innerHTML + game_box[4].innerHTML + game_box[7].innerHTML == "XX"){
            if(game_box[1].innerHTML == ""){
              game_box[1].innerHTML = "O";
              game_array[1] = "O";
              eight_moved_position = 1;
            }
            else if(game_box[4].innerHTML == ""){
              game_box[4].innerHTML = "O";
              game_array[4] = "O";
              eight_moved_position = 4;
            }
            else if(game_box[7].innerHTML ==""){
              game_box[7].innerHTML = "O";
              game_array[7] = "O";
              eight_moved_position = 7;
            }
          }

          if(eight_moved_position == "no move" &&
            game_box[2].innerHTML + game_box[5].innerHTML + game_box[8].innerHTML == "XX"){
            if(game_box[2].innerHTML == ""){
              game_box[2].innerHTML = "O";
              game_array[2] = "O";
              eight_moved_position = 2;
            }
            else if(game_box[5].innerHTML == ""){
              game_box[5].innerHTML = "O";
              game_array[5] = "O";
              eight_moved_position = 5;
            }
            else if(game_box[8].innerHTML ==""){
              game_box[8].innerHTML = "O";
              game_array[8] = "O";
              eight_moved_position = 8;
            }
          }

          if(eight_moved_position == "no move" &&
            game_box[0].innerHTML + game_box[4].innerHTML + game_box[8].innerHTML == "XX"){
            if(game_box[0].innerHTML == ""){
              game_box[0].innerHTML = "O";
              game_array[0] = "O";
              eight_moved_position = 0;
            }
            else if(game_box[4].innerHTML == ""){
              game_box[4].innerHTML = "O";
              game_array[4] = "O";
              eight_moved_position = 4;
            }
            else if(game_box[8].innerHTML ==""){
              game_box[8].innerHTML = "O";
              game_array[8] = "O";
              eight_moved_position = 8;
            }
          }

          if(eight_moved_position == "no move" &&
            game_box[2].innerHTML + game_box[4].innerHTML + game_box[6].innerHTML == "XX"){
            if(game_box[2].innerHTML == ""){
              game_box[2].innerHTML = "O";
              game_array[2] = "O";
              eight_moved_position = 2;
            }
            else if(game_box[4].innerHTML == ""){
              game_box[4].innerHTML = "O";
              game_array[4] = "O";
              eight_moved_position = 4;
            }
            else if(game_box[6].innerHTML ==""){
              game_box[6].innerHTML = "O";
              game_array[6] = "O";
              eight_moved_position = 6;
            }
          }

          if(eight_moved_position != "no move"){   // Code block for if Condition 2 executes, Condition 1/3/4 need not execute!!
            eight_move_condition_one = false;
            eight_move_condition_three = false;
            eight_move_condition_four = false;
          }
        }

        //Condition 3(take corner)
        if(eight_move_condition_three){            //if eight_move_condition_three is true
          if(eight_moved_position == "no move" && game_box[0].innerHTML == ""){
            game_box[0].innerHTML = "O";
            game_array[0] = "O";
            eight_moved_position = 0;
          }
          if(eight_moved_position == "no move" && game_box[2].innerHTML == ""){
            game_box[2].innerHTML = "O";
            game_array[2] = "O";
            eight_moved_position = 2;
          }
          if(eight_moved_position == "no move" && game_box[6].innerHTML == ""){
            game_box[6].innerHTML = "O";
            game_array[6] = "O";
            eight_moved_position = 6;
          }
          if(eight_moved_position == "no move" && game_box[8].innerHTML == ""){
            game_box[8].innerHTML = "O";
            game_array[8] = "O";
            eight_moved_position = 8;
          }

          if(eight_moved_position != "no move"){
            eight_move_condition_one = false;
            eight_move_condition_two = false;
            eight_move_condition_four = false;
          }
        }

        //Condition 4
        if(eight_move_condition_four){            //if eight_move_condition_four is true
          let position_var = 0;

          while(position_var < game_box.length){
            if(eight_moved_position == "no move" && game_box[position_var].innerHTML == ""){
              game_box[position_var].innerHTML = "O";
              game_array[position_var] = "O";
              eight_moved_position = position_var;

              eight_move_condition_one = false;
              eight_move_condition_two = false;
              eight_move_condition_three = false;
              break
            }
            position_var = position_var + 1;
          }
        }
        check_player_turn();
        check_win();
        check_draw();
        ninth_move();
      }
    }


    function ninth_move(){
      //HUMAN MOVE
      if(whose_turn == "human"){
        for(let n = 0; n < game_box.length; n++){
          var click_permission = "allowed"

          game_box[n].onclick = function(event){
            if(game_box[n].innerHTML == "" && click_permission == "allowed"){
              game_box[n].innerHTML = "X";
              game_array[n] = "X";
              ninth_moved_position = n;

              click_permission = "disallowed"
              check_player_turn();
              check_win();
              check_draw();
            }
            else if(click_permission == "disallowed"){
              window.alert("Please wait for your turn.")
            }
            else if(game_box[n] != ""){
              window.alert("Field is occupied. Kindly choose another.");
            }            
          }
        }
      }
    }


    function play(){
      first_move()
    }

    play()

</script>